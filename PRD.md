# Resume Maker V0 - Product Requirements Document (PRD)

**Version:** 1.0  
**Date:** December 29, 2024  
**Status:** Draft  
**Owner:** Nishanth and Vasanth

---

## 1. Executive Summary

### 1.1 Product Overview
Resume Maker V0 is a web application that helps job seekers create tailored, professional resumes in minutes. The product uses AI to customize resumes for specific job applications while maintaining strict guardrails against fabrication, ensuring users can trust the output.

### 1.2 Problem Statement
Job seekers need to apply to multiple positions, each requiring a tailored resume. The current process is time-consuming, error-prone, and existing AI tools often invent or exaggerate details, creating distrust.

### 1.3 Solution
A 4-step guided workflow that:
- Accepts resumes in multiple formats (PDF, DOCX, LaTeX)
- Extracts and processes resume content
- Tailors content to specific job descriptions using AI
- Generates professional LaTeX output with guardrails
- Hands off to Overleaf for final user editing

### 1.4 Success Criteria
- User completes full flow (landing â†’ Overleaf) in one session
- Output requires only light edits, not complete rewrites
- Users trust the tool (no fabricated content)
- Privacy is maintained by default

---

## 2. Goals and Objectives

### 2.1 Primary Goals
1. **Speed**: Reduce resume tailoring time from hours to minutes
2. **Trust**: Ensure output accuracy with zero fabrication
3. **Quality**: Produce professional, consistently formatted resumes
4. **Privacy**: Protect user data with secure, private storage

### 2.2 Key Performance Indicators (KPIs)
- **Time to First Output**: < 5 minutes from upload to Overleaf link
- **User Trust Score**: > 4.5/5 (via post-use survey)
- **Completion Rate**: > 70% of users who start complete the flow
- **Output Quality**: < 20% of users need major edits in Overleaf
- **Privacy Compliance**: 100% of files stored privately with time-limited access

---

## 3. User Personas

### 3.1 Primary Persona: Active Job Seeker
- **Name**: Sarah, 28, Software Engineer
- **Goals**: Apply to 10+ positions per week, each with tailored resume
- **Pain Points**: Time-consuming manual tailoring, formatting inconsistencies
- **Needs**: Fast, trustworthy, professional output

### 3.2 Secondary Persona: Career Changer
- **Name**: Michael, 35, Transitioning to Product Management
- **Goals**: Reposition existing experience for new roles
- **Pain Points**: Unfamiliar with new industry keywords and formats
- **Needs**: Guidance on tailoring, keyword optimization

---

## 4. User Stories

### 4.1 Core User Stories

**US-1: Resume Upload**
- **As a** job seeker
- **I want to** upload my existing resume in PDF, DOCX, or LaTeX format
- **So that** I can quickly start tailoring it for a new application

**US-2: Job Description Input**
- **As a** job seeker
- **I want to** paste the job description and specify the job title
- **So that** the AI can tailor my resume to match the requirements

**US-3: Template Selection**
- **As a** job seeker
- **I want to** choose from professional resume templates
- **So that** my resume has consistent, professional formatting

**US-4: Personalization (Authenticated Users)**
- **As an** authenticated user
- **I want to** provide additional context or instructions
- **So that** the AI can better tailor my resume

**US-5: AI Generation**
- **As a** job seeker
- **I want to** receive a tailored resume generated by AI
- **So that** I save time while ensuring accuracy

**US-6: Overleaf Handoff**
- **As a** job seeker
- **I want to** edit my generated resume in Overleaf
- **So that** I have full control over the final output

**US-7: Privacy Assurance**
- **As a** job seeker
- **I want to** know my data is stored securely and privately
- **So that** I can trust the service with my personal information

---

## 5. Functional Requirements

### 5.1 Landing Page (FR-1)
**Priority:** P0 (Must Have)

**Requirements:**
- Display product value proposition
- Show "Get Started" CTA button
- Include sections: Hero, How It Works, Features, Testimonials
- Responsive design (mobile, tablet, desktop)
- Dark theme with light mode toggle
- Smooth scroll animations

**Acceptance Criteria:**
- Page loads in < 2 seconds
- All sections visible and functional
- CTA button navigates to `/resume-builder`
- Theme toggle works correctly

---

### 5.2 Step 1: Resume Upload & Job Description (FR-2)
**Priority:** P0 (Must Have)

**Requirements:**
- **File Upload:**
  - Support PDF, DOCX, and LaTeX (.tex) formats
  - Drag-and-drop interface
  - File size limit: 10MB
  - File type validation
  - Show file preview/confirmation
  - Allow file removal
  
- **Text Extraction:**
  - DOCX: Extract all text using `mammoth`
  - PDF: Extract all text using `pdfjs-dist` (multi-page support)
  - LaTeX: Read file content directly (client-side)
  - Handle extraction errors gracefully
  - Store extracted content in application state

- **Job Description Input:**
  - Textarea for job description
  - Character count display (optional)
  - Minimum length validation (100 characters)
  - Store in form context

**Acceptance Criteria:**
- All supported file types upload successfully
- Text extraction works for all formats
- Job description is required and validated
- User can proceed to Step 2 only when both inputs are valid

---

### 5.3 Step 2: Job Role & Template Selection (FR-3)
**Priority:** P0 (Must Have)

**Requirements:**
- **Job Role Input:**
  - Text input field for job title/role
  - Required field
  - Store in form context

- **Template Selection:**
  - For PDF/DOCX files: 3 templates (Modern, Classic, Old-school)
  - For LaTeX files: 4 templates (Modern, Classic, Old-school, Your Format)
  - Templates displayed as selectable cards
  - Each card shows:
    - Preview image/placeholder
    - Template name
    - Brief description
  - Single selection only
  - Visual feedback for selected state
  - Store selection in form context

**Acceptance Criteria:**
- Job role is required
- Template selection is required
- Correct number of templates shown based on file type
- User can navigate back to Step 1
- User can proceed to Step 3 when both inputs are valid

---

### 5.4 Step 3: Personalization Prompt (FR-4)
**Priority:** P1 (Should Have)

**Requirements:**
- **For Guest Users:**
  - Input field is disabled by default
  - Show message: "Sign in to add personalization instructions"
  - "Skip" button to proceed to Step 4
  - Store empty string in form context

- **For Authenticated Users:**
  - Input field is enabled
  - Textarea for personalization instructions
  - Placeholder text with examples
  - Character limit: 500 characters (optional)
  - Store in form context

**Acceptance Criteria:**
- Guest users can skip this step
- Authenticated users can add personalization
- User can navigate back to Step 2
- User can proceed to Step 4

---

### 5.5 Step 4: LLM Processing & Output (FR-5)
**Priority:** P0 (Must Have)

**Requirements:**
- **LLM Processing:**
  - Combine all inputs into system prompt:
    - Resume content (extracted text)
    - Job description
    - Job title
    - Template selection
    - Personalization prompt (if provided)
  - Include guardrails in prompt:
    - Explicitly forbid inventing employers, titles, dates, degrees, metrics, projects
    - Instructions to avoid adding specifics when uncertain
    - Use placeholders like "(confirm metric)" when needed
  - Send to OpenAI API (GPT-4 or GPT-3.5-turbo)
  - Temperature setting: 0.3 (conservative)
  - Receive LaTeX code for tailored resume

- **Output Validation:**
  - Check LaTeX structure sanity (basic compile-safe checks)
  - Validate no obvious "new claims" patterns not in input
  - Flag uncertain content with placeholders

- **S3 Storage:**
  - Store generated LaTeX file in S3 bucket (`latex-snips-001/snips/`)
  - File naming: `resume-{uuid}.tex`
  - Private objects by default
  - Generate time-limited signed URL (24 hours)

- **Overleaf Handoff:**
  - Generate Overleaf form with S3 URL
  - Display success page with Overleaf link button
  - Redirect user to Overleaf for editing

- **UI States:**
  - Loading state during LLM processing
  - Progress indicator
  - Error handling with user-friendly messages
  - Success state with Overleaf link

**Acceptance Criteria:**
- LLM generates LaTeX output matching selected template
- Output contains no fabricated information
- File is stored securely in S3
- Overleaf link works correctly
- User can complete flow in < 5 minutes

---

### 5.6 Authentication (FR-6)
**Priority:** P1 (Should Have)

**Requirements:**
- Google OAuth2 via Supabase
- Guest mode available (no auth required)
- Authentication enables personalization feature
- User session management
- Secure token handling

**Acceptance Criteria:**
- Users can sign in with Google
- Guest users can complete flow without auth
- Authenticated users can access personalization
- Session persists across page refreshes

---

## 6. Non-Functional Requirements

### 6.1 Performance
- **Page Load Time**: < 2 seconds for landing page
- **File Upload**: < 5 seconds for files up to 10MB
- **Text Extraction**: < 10 seconds for any file type
- **LLM Processing**: < 60 seconds for resume generation
- **API Response Time**: < 500ms for non-LLM endpoints

### 6.2 Security
- **Data Privacy**: All files stored privately in S3
- **Access Control**: Time-limited signed URLs (24 hours)
- **Authentication**: Secure OAuth2 flow via Supabase
- **Data Retention**: Files deleted after 7 days (configurable)
- **Input Validation**: All user inputs validated and sanitized
- **Error Handling**: No sensitive data exposed in error messages

### 6.3 Reliability
- **Uptime**: 99.5% availability
- **Error Rate**: < 1% of requests result in errors
- **File Extraction Success Rate**: > 95% for supported formats
- **LLM Generation Success Rate**: > 98%

### 6.4 Usability
- **Accessibility**: WCAG 2.1 Level AA compliance
- **Responsive Design**: Works on mobile, tablet, desktop
- **Browser Support**: Chrome, Firefox, Safari, Edge (latest 2 versions)
- **User Guidance**: Clear instructions at each step
- **Error Messages**: User-friendly, actionable error messages

### 6.5 Scalability
- **Concurrent Users**: Support 100+ concurrent users
- **File Storage**: Scalable S3 storage
- **API Rate Limiting**: Prevent abuse
- **Database**: Supabase Postgres (scalable)

---

## 7. Technical Requirements

### 7.1 Technology Stack
- **Frontend**: React 19.2.3, Next.js 16.1.1, Tailwind CSS 4
- **Backend**: Next.js API Route Handlers
- **Authentication**: Supabase Auth (Google OAuth2)
- **Database**: Supabase Postgres
- **File Processing**: mammoth (DOCX), pdfjs-dist (PDF)
- **LLM**: OpenAI API (GPT-4 or GPT-3.5-turbo)
- **Storage**: AWS S3 (bucket: latex-snips-001)
- **Hosting**: Vercel

### 7.2 API Endpoints

**POST /api/extract-docx**
- Input: DOCX file
- Output: Extracted text
- Error Handling: Invalid file, extraction failures

**POST /api/extract-pdf**
- Input: PDF file
- Output: Extracted text
- Error Handling: Invalid file, extraction failures

**POST /api/generate-resume**
- Input: Resume content, job description, job title, template, personalization (optional)
- Output: LaTeX code
- Error Handling: LLM errors, validation failures

**POST /api/upload**
- Input: LaTeX code
- Output: S3 URL, Overleaf link
- Error Handling: S3 upload failures, invalid LaTeX

### 7.3 Data Models

**Resume Form State:**
```typescript
interface ResumeFormData {
  file: File | null;
  fileType: 'pdf' | 'docx' | 'latex' | null;
  extractedText: string;
  jobDescription: string;
  jobRole: string;
  template: 'modern' | 'classic' | 'old-school' | 'your-format' | null;
  personalizationPrompt: string;
}
```

**Database Schema (Future):**
```sql
CREATE TABLE resumes (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES auth.users(id),
  resume_content TEXT,
  job_description TEXT,
  job_role VARCHAR(255),
  template VARCHAR(50),
  personalization_prompt TEXT,
  s3_url TEXT,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);
```

---

## 8. User Flow

### 8.1 Happy Path
1. User lands on homepage
2. Clicks "Get Started"
3. **Step 1**: Uploads resume (PDF/DOCX/LaTeX) and pastes job description
4. **Step 2**: Enters job role and selects template
5. **Step 3**: (Optional) Adds personalization or skips
6. **Step 4**: Waits for AI processing, receives Overleaf link
7. Opens Overleaf and edits resume

### 8.2 Error Flows
- **File Upload Error**: Show error message, allow retry
- **Extraction Error**: Show error message, suggest file format check
- **LLM Error**: Show error message, allow retry
- **S3 Upload Error**: Show error message, allow retry
- **Network Error**: Show error message, allow retry

### 8.3 Edge Cases
- Very large files (>10MB): Show error, suggest file size reduction
- Unsupported file format: Show error, list supported formats
- Empty job description: Show validation error
- LLM timeout: Show error, allow retry
- Invalid LaTeX output: Show error, allow regeneration

---

## 9. Guardrails and Trust Mechanisms

### 9.1 Prompt Engineering Guardrails
- **Explicit Forbidden Actions:**
  - Do not invent employers, companies, or organizations
  - Do not invent job titles or positions
  - Do not invent dates (employment, education, projects)
  - Do not invent degrees, certifications, or credentials
  - Do not invent metrics, numbers, or achievements
  - Do not invent projects, technologies, or tools

- **Conservative Rewriting:**
  - When uncertain, avoid adding specifics
  - Use placeholders: "(confirm metric)", "(verify date)"
  - Preserve original content structure
  - Only rephrase, don't add new claims

### 9.2 Output Validation
- **LaTeX Structure Checks:**
  - Valid LaTeX syntax
  - Proper document structure
  - No obvious compilation errors

- **Content Validation:**
  - Check for new claims not in input
  - Flag suspicious additions (numbers, awards, tools)
  - Validate against original resume content

### 9.3 User Messaging
- **Clear Disclaimers:**
  - "Review before sending. You are responsible for final content."
  - "This tool helps tailor your resume but does not add new information."
  - "Please verify all details before submitting applications."

---

## 10. Privacy and Security

### 10.1 Data Storage
- **S3 Storage:**
  - All files stored as private objects
  - No public access by default
  - Time-limited signed URLs (24 hours)
  - Automatic deletion after 7 days (configurable)

- **Database:**
  - Do not store raw uploaded files
  - Store only extracted text and metadata (for authenticated users)
  - Implement Row Level Security (RLS) policies

### 10.2 Access Control
- **IAM Policies:**
  - Least-privilege access for S3 operations
  - Separate read/write permissions
  - No public read access

### 10.3 Data Retention
- **File Retention**: 7 days (configurable)
- **User Data**: Retained only for authenticated users with history
- **Guest Data**: Deleted immediately after Overleaf handoff

---

## 11. Success Metrics

### 11.1 User Engagement
- **Completion Rate**: % of users who complete full flow
- **Time to Completion**: Average time from start to Overleaf link
- **Return Rate**: % of users who return to create another resume

### 11.2 Quality Metrics
- **Output Usability**: % of users who use output with minimal edits
- **Trust Score**: User rating of output accuracy (1-5 scale)
- **Error Rate**: % of generations that require regeneration

### 11.3 Technical Metrics
- **API Response Time**: Average response time for each endpoint
- **Uptime**: System availability percentage
- **Error Rate**: % of requests resulting in errors

---

## 12. Out of Scope (V0)

The following features are explicitly **NOT** included in V0:

- Resume history/dashboard for users
- Multiple resume variants generation
- Resume preview before Overleaf
- Keyword alignment insights
- Resume download in other formats (PDF, DOCX)
- Collaboration features
- Resume templates beyond the 3-4 specified
- Mobile app
- Batch processing (multiple resumes at once)
- Resume analytics or ATS score
- Integration with job boards
- Resume versioning
- Comments/annotations on resumes

---

## 13. Dependencies

### 13.1 External Services
- **OpenAI API**: For LLM resume generation
- **AWS S3**: For file storage
- **Supabase**: For authentication and database
- **Overleaf**: For final resume editing (external service)

### 13.2 Third-Party Libraries
- `mammoth`: DOCX text extraction
- `pdfjs-dist`: PDF text extraction
- `@supabase/supabase-js`: Supabase client
- `openai`: OpenAI SDK
- `@aws-sdk/client-s3`: AWS S3 client

### 13.3 Infrastructure
- **Vercel**: Hosting and deployment
- **AWS**: S3 storage
- **Supabase**: Auth and database hosting

---

## 14. Risks and Mitigations

### 14.1 Technical Risks

**Risk**: LLM generates fabricated content
- **Mitigation**: Strict prompt guardrails, output validation, user disclaimers

**Risk**: File extraction failures
- **Mitigation**: Robust error handling, clear error messages, support for multiple formats

**Risk**: S3 upload failures
- **Mitigation**: Retry mechanisms, error handling, fallback options

**Risk**: High API costs
- **Mitigation**: Rate limiting, efficient prompt design, cost monitoring

### 14.2 Product Risks

**Risk**: Users don't trust the output
- **Mitigation**: Clear guardrails, validation, user messaging, transparency

**Risk**: Low completion rate
- **Mitigation**: Simple workflow, clear instructions, progress indicators

**Risk**: Privacy concerns
- **Mitigation**: Private storage, time-limited access, clear privacy policy

### 14.3 Business Risks

**Risk**: High infrastructure costs
- **Mitigation**: Cost monitoring, retention policies, efficient resource usage

**Risk**: Legal/compliance issues
- **Mitigation**: Clear terms of service, user disclaimers, data retention policies

---

## 15. Launch Criteria

### 15.1 Pre-Launch Checklist
- [ ] All P0 features implemented and tested
- [ ] Guardrails and validation working correctly
- [ ] Privacy and security measures in place
- [ ] Error handling comprehensive
- [ ] Performance targets met
- [ ] Accessibility requirements met
- [ ] Documentation complete
- [ ] Terms of Service and Privacy Policy published

### 15.2 Post-Launch Monitoring
- Monitor error rates and user feedback
- Track completion rates and time to completion
- Monitor API costs and infrastructure usage
- Collect user trust scores
- Track privacy compliance

---

## 16. Future Enhancements (V1+)

### 16.1 V1 Features
- Extracted text preview with user editing
- Stronger claim-checking with highlighted diffs
- Better template previews
- Error recovery improvements

### 16.2 V2 Features
- Saved history for authenticated users
- Reusable base resume profiles
- Multiple output variants
- Keyword alignment insights

---

## 17. Appendix

### 17.1 Glossary
- **LLM**: Large Language Model (OpenAI GPT)
- **LaTeX**: Document preparation system
- **Overleaf**: Online LaTeX editor
- **ATS**: Applicant Tracking System
- **RLS**: Row Level Security

### 17.2 References
- Product Vision Document
- Technical Design Document
- UI Changes Log

---

**Document Status**: This PRD is a living document and will be updated as requirements evolve.

**Approval**: Pending stakeholder review

---

*Last Updated: December 29, 2024*

